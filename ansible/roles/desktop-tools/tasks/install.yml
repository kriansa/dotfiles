---
- name: install common desktop packages
  become: true
  community.general.pacman:
    name:
      # Browsers
      - firefox
      - chromium

      # Video players
      - vlc
      - libx264
      - mpv

      # Subtitles editor
      - gaupol

      # Faster camera download
      - rapid-photo-downloader

      # GParted is a GUI partitioner
      - gparted

      # Torrent client
      - transmission-remote-gtk

      # Office tools
      - libreoffice-fresh

      # Fonts
      - ttf-roboto
      - ttf-roboto-mono
      - ttf-croscore
      - noto-fonts-cjk
      - ttf-joypixels

      # Printer drivers
      - cups
      - hplip

      # ---------------------
      # Packages on AUR/pacom
      - overdue # complement for pacman

      # Beancount
      - beancount
      - fava

      # Spotify
      - spotify

      # Slack/zoom
      - slack-desktop
      - zoom

      # Yed
      - yed

      # Fonts
      - ttf-symbola
      - ttf-iosevka-term
      - ttf-gelasio
      - ttf-comic-neue
      - ttf-nerd-glyphs

- name: reload font cache
  ansible.builtin.command: fc-cache -fv

- name: install ananicy
  become: true
  community.general.pacman: name=ananicy-git

- name: start and enable ananicy at boot time
  become: true
  ansible.builtin.systemd: name=ananicy enabled=true state=started

- name: install psi-notify
  become: true
  community.general.pacman: name=psi-notify

- name: start and enable psi-notify at boot time
  become: true
  become_user: "{{ user_name }}"
  ansible.builtin.systemd: name=psi-notify enabled=true state=started scope=user
