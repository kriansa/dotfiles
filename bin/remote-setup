#!/usr/bin/env sh

# This is just a small help on top of `ansible-playbook` so I don't have to
# remember its interface
#
# Usage: bin/remote-setup [user@]<ip> <machine-type>

if [ "$#" -lt 2 ]; then
  echo "Usage: $0 [user@]<ip> <machine-type>"
  exit 1
fi

# Get the arguments
host=$1
machine_type=$2

# Disable cowsay
export ANSIBLE_NOCOWS=1

# Run the playbook
cd ansible && ansible-playbook --inventory="${host}," "${machine_type}.yml"
